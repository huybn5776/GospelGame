function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,c=new Array(e);n<e;n++)c[n]=t[n];return c}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],c=!0,i=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(c=(r=a.next()).done)&&(n.push(r.value),!e||n.length!==e);c=!0);}catch(s){i=!0,o=s}finally{try{c||null==a.return||a.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var c=e[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{JGKb:function(t,e,n){"use strict";n.r(e);var c=n("ofXK"),i=n("FpXt"),o=n("tyNb"),r=n("DRYZ"),a=n("v8Ou"),s=n("FdYD"),l=n("fXoL"),u=n("kt0X"),b=n("+0xr"),f=n("6LIv"),m=n("L8iz"),d=Object(m.a)((function(t,e){return Array.prototype.slice.call(e,0).sort((function(e,n){var c=t(e),i=t(n);return c<i?-1:c>i?1:0}))})),p=n("Q28r");function h(t,e){if(1&t&&(l.Tb(0,"span",2),l.Ob(1,"img",3),l.Sb()),2&t){var n=e.$implicit;l.Cb(1),l.lc("src",n.src,l.sc)("alt",n.name)}}var y,C,g=((C=function(){function t(){_classCallCheck(this,t),this.itemIndex=p.b.reduce((function(t,e){return t[e.id]=e,t}),{})}return _createClass(t,[{key:"ngOnChanges",value:function(t){var e=this;this.items=[],Object.entries(this.itemCount||[]).forEach((function(t){for(var n=_slicedToArray(t,2),c=n[0],i=n[1],o=e.itemIndex[c],r=i;r--;)e.items.push(o)})),this.items=d((function(t){return t.seq}),this.items)}}]),t}()).\u0275fac=function(t){return new(t||C)},C.\u0275cmp=l.Hb({type:C,selectors:[["app-items-view"]],inputs:{itemCount:"itemCount"},features:[l.Ab],decls:2,vars:1,consts:[[1,"items-container"],["class","small-item",4,"ngFor","ngForOf"],[1,"small-item"],[3,"src","alt"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.xc(1,h,2,2,"span",1),l.Sb()),2&t&&(l.Cb(1),l.lc("ngForOf",e.items))},directives:[c.j],styles:['.items-container[_ngcontent-%COMP%]   .small-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px;-o-object-fit:contain;object-fit:contain}.items-container[_ngcontent-%COMP%]   .small-item[_ngcontent-%COMP%]:not(:last-child):after{content:"";width:1px;height:16px;margin:6px 2px 0;vertical-align:top;background-color:#d3d3d3;display:inline-block}']}),C),v=((y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.value=Object.entries(this.coinCount).map((function(t){var e=_slicedToArray(t,2),n=e[0],c=e[1];return parseInt(n.split("-")[1],10)*c})).reduce((function(t,e){return t+e}),0)}}]),t}()).\u0275fac=function(t){return new(t||y)},y.\u0275cmp=l.Hb({type:y,selectors:[["app-coins-view"]],inputs:{coinCount:"coinCount"},features:[l.Ab],decls:2,vars:1,template:function(t,e){1&t&&(l.Tb(0,"p"),l.yc(1),l.Sb()),2&t&&(l.Cb(1),l.zc(e.value))},styles:[""]}),y),S=n("bTqV"),w=n("NFeN"),_=n("bv9b");function T(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u5c40\u6578"),l.Sb())}function x(t,e){if(1&t&&(l.Tb(0,"td",19),l.yc(1),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.zc(c.asScore(n).inning)}}function O(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u6642\u9593"),l.Sb())}function A(t,e){if(1&t&&(l.Tb(0,"td",19),l.yc(1),l.gc(2,"date"),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.zc(l.ic(2,1,c.asScore(n).time,"M/d hh:mm:ss"))}}function k(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u8cfd\u5c40"),l.Sb())}function D(t,e){if(1&t&&(l.Tb(0,"td",19),l.yc(1),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.Ac("",c.asScore(n).playerCount,"\u4eba\u8cfd")}}function R(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u8d0f\u5bb6"),l.Sb())}function P(t,e){if(1&t&&(l.Rb(0),l.yc(1),l.Qb()),2&t){var n=e.ngLet;l.Cb(1),l.Ac(" ","a"===n?"A\u968a":"b"===n?"B\u968a":"---"," ")}}function L(t,e){if(1&t&&(l.Tb(0,"td",19),l.xc(1,P,2,1,"ng-container",20),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.lc("ngLet",c.asScore(n).winner)}}function M(t,e){1&t&&(l.Tb(0,"th",21),l.yc(1,"A\u968a\u9053\u5177"),l.Sb())}function $(t,e){if(1&t&&(l.Tb(0,"td",19),l.Ob(1,"app-items-view",22),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.lc("itemCount",c.asScore(n).itemsA)}}function j(t,e){1&t&&(l.Tb(0,"th",21),l.yc(1,"B\u968a\u9053\u5177"),l.Sb())}function I(t,e){if(1&t&&(l.Tb(0,"td",19),l.Ob(1,"app-items-view",22),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.lc("itemCount",c.asScore(n).itemsB)}}function H(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u65b0\u670b\u53cb\u52a0\u6210"),l.Sb())}function Q(t,e){if(1&t&&(l.Tb(0,"td",19),l.Ob(1,"app-coins-view",23),l.yc(2," / "),l.Ob(3,"app-coins-view",23),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.lc("coinCount",c.asScore(n).coinsA),l.Cb(2),l.lc("coinCount",c.asScore(n).coinsB)}}function B(t,e){1&t&&(l.Tb(0,"th",18),l.yc(1,"\u5206\u6578"),l.Sb())}function F(t,e){if(1&t&&(l.Tb(0,"td",19),l.yc(1),l.Sb()),2&t){var n=e.$implicit,c=l.fc();l.Cb(1),l.Bc("",c.asScore(n).scoreA," / ",c.asScore(n).scoreB,"")}}function z(t,e){1&t&&l.Ob(0,"th",18)}function N(t,e){if(1&t){var n=l.Ub();l.Tb(0,"td",24),l.Tb(1,"button",25),l.bc("click",(function(){l.rc(n);var t=e.$implicit,c=l.fc();return c.delete(c.asScore(t).id)})),l.Tb(2,"mat-icon"),l.yc(3,"delete"),l.Sb(),l.Sb(),l.Sb()}}function K(t,e){1&t&&l.Ob(0,"tr",26)}function X(t,e){1&t&&l.Ob(0,"tr",27)}function E(t,e){1&t&&l.Ob(0,"mat-progress-bar",28)}var J,q,G=[{path:"",component:(J=function(){function t(e,n){_classCallCheck(this,t),this.localStorageService=e,this.store=n,this.displayedColumns=["inning","time","playerCount","winner","itemsA","itemsB","coins","scores","actions"],this.gameScores$=this.store.select(s.a.selectAllGameScores),this.gameScoresLoading$=this.store.select(s.a.selectScoreLoading)}return _createClass(t,[{key:"ngOnInit",value:function(){this.store.dispatch(a.a.loadAll())}},{key:"asScore",value:function(t){return t}},{key:"delete",value:function(t){this.store.dispatch(a.a.removeOne({id:t}))}}]),t}(),J.\u0275fac=function(t){return new(t||J)(l.Nb(r.a),l.Nb(u.h))},J.\u0275cmp=l.Hb({type:J,selectors:[["app-final-result"]],decls:35,vars:9,consts:[[1,"scores-table-container"],["mat-table","",3,"dataSource"],["matColumnDef","inning"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","playerCount"],["matColumnDef","winner"],["matColumnDef","itemsA"],["mat-header-cell","","class","items-column",4,"matHeaderCellDef"],["matColumnDef","itemsB"],["matColumnDef","coins"],["matColumnDef","scores"],["matColumnDef","actions"],["mat-cell","","class","score-actions",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mode","buffer",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[4,"ngLet"],["mat-header-cell","",1,"items-column"],[3,"itemCount"],[3,"coinCount"],["mat-cell","",1,"score-actions"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],["mode","buffer"]],template:function(t,e){1&t&&(l.Tb(0,"div",0),l.Tb(1,"table",1),l.gc(2,"async"),l.Rb(3,2),l.xc(4,T,2,0,"th",3),l.xc(5,x,2,1,"td",4),l.Qb(),l.Rb(6,5),l.xc(7,O,2,0,"th",3),l.xc(8,A,3,4,"td",4),l.Qb(),l.Rb(9,6),l.xc(10,k,2,0,"th",3),l.xc(11,D,2,1,"td",4),l.Qb(),l.Rb(12,7),l.xc(13,R,2,0,"th",3),l.xc(14,L,2,1,"td",4),l.Qb(),l.Rb(15,8),l.xc(16,M,2,0,"th",9),l.xc(17,$,2,1,"td",4),l.Qb(),l.Rb(18,10),l.xc(19,j,2,0,"th",9),l.xc(20,I,2,1,"td",4),l.Qb(),l.Rb(21,11),l.xc(22,H,2,0,"th",3),l.xc(23,Q,4,2,"td",4),l.Qb(),l.Rb(24,12),l.xc(25,B,2,0,"th",3),l.xc(26,F,2,2,"td",4),l.Qb(),l.Rb(27,13),l.xc(28,z,1,0,"th",3),l.xc(29,N,4,0,"td",14),l.Qb(),l.xc(30,K,1,0,"tr",15),l.xc(31,X,1,0,"tr",16),l.Sb(),l.Sb(),l.Tb(32,"footer"),l.xc(33,E,1,0,"mat-progress-bar",17),l.gc(34,"async"),l.Sb()),2&t&&(l.Cb(1),l.lc("dataSource",l.hc(2,5,e.gameScores$)),l.Cb(29),l.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),l.Cb(1),l.lc("matRowDefColumns",e.displayedColumns),l.Cb(2),l.lc("ngIf",l.hc(34,7,e.gameScoresLoading$)))},directives:[b.j,b.c,b.e,b.b,b.g,b.i,c.k,b.d,b.a,f.a,g,v,S.a,w.a,b.f,b.h,_.a],pipes:[c.b,c.e],styles:["[_nghost-%COMP%]{position:relative;display:block}.scores-table-container[_ngcontent-%COMP%]{max-height:calc(100vh - 116px);overflow:auto}.scores-table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.items-column[_ngcontent-%COMP%]{width:144px}.score-actions[_ngcontent-%COMP%]{width:1%;white-space:nowrap;color:grey}app-coins-view[_ngcontent-%COMP%]{display:inline-block}footer[_ngcontent-%COMP%]{width:100%;bottom:0;z-index:100;position:absolute;background-color:#fff}"]}),J)}],U=((q=function t(){_classCallCheck(this,t)}).\u0275mod=l.Lb({type:q}),q.\u0275inj=l.Kb({factory:function(t){return new(t||q)},imports:[[o.c.forChild(G)],o.c]}),q);n.d(e,"FinalResultModule",(function(){return Y}));var W,Y=((W=function t(){_classCallCheck(this,t)}).\u0275mod=l.Lb({type:W}),W.\u0275inj=l.Kb({factory:function(t){return new(t||W)},imports:[[c.c,i.a,U]]}),W)}}]);